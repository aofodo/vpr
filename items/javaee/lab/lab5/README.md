# Лаб 5

## Задание 1
Создайте собственный составной тег, представляющий
компонент пользовательского интерфейса "именованный ввод" -
текстовую строку (метку), поле ввода и поле для вывода сообщения
(красным цветом) о неправильном вводе - отсутствии текста в поле
ввода (<h:message>). Конкретное значение для метки должно задаваться через атрибут, например, label. Через другой
атрибут, например, property, содержимое поля
ввода должно связываться со свойством (тип
String) какого-то компонента Java Beans. В итоге,
если тег называется namedinput и его объявление помещено в каталог resources/mytaglib,
использоваться вновь созданный составной компонент должен подобно
следующему:

```java
@Named
public class MyBean {
private String msg;
… // get/set
}
```
```html
… // в фейслете
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:my="http://xmlns.jcp.org/jsf/composite/mytaglib">
…
<body>
<h:form>
<my:namedinput label="Имя" property="#{myBean.msg}"/>
…
<h:commandButton …/>
</h:form>
</body>
</html>
```

## Задание 2
Создайте JSF-страницы (фейслеты), представляющие 1)
форму авторизации и 2) регистрационную форму для пользователей
электронного магазина. Форма авторизации должна содержать ссылку
на регистрационную форму и наоборот. Создайте управляемый 
компонент (managed bean) для хранения информации о
зарегистрированном пользователе. Например,
```java
public class User {
  private String name;
  ...
}

@Named
public class RegUser extends User {
  ...
}
```
При регистрации пользователь должен заполнить поля "Имя", "e-mail",
"телефон", "пароль" и нажать кнопку "Подтвердить". Обеспечьте
проверку правильности вводимых данных. Должны проверяться
наличие имени и пароля, а также допустимость введенных значений email и телефона. 
Используйте составной компонент, созданный при выполнении задания 1.

## Задание 3
Используя теги из пространства имен
http://xmlns.jsp.org/jsf/facelets создайте шаблон страницы, в котором
предусмотрены три части: верхняя - заголовок, средняя - содержимое и
нижняя - "подвал". Содержимое многих страниц в разных приложениях
соответствует такому шаблону. Создайте клиентскую страницу,
использующую данный шаблон и представляющую страницу
электронного магазина некоторой фирмы. Заголовок шаблона должен
содержать логотип фирмы (изображение в формате jpeg, png, gif),
название этой фирмы и имя пользователя, зашедшего на сайт. Для
тестирования, в средней части можно разместить текст, например,
"Приветствуем Вас на стартовой странице нашего сайта!". Нижняя часть
может содержать информацию о контактах для связи с администрацией
фирмы - телефоны и e-mail адреса. 

## Задание 4
Спроектировать web-приложение для владельцев и
пользователей небольших фирм по прокату автомобилей. Все
пользователи проходят авторизацию (используйте реализацию из
задания 2). Для незарегистрированных пользователей нужно
предусмотреть регистрацию (используйте реализацию из задания 2).
Есть два вида пользователей (две роли) - менеджеры самой фирмы и
клиенты, абонирующие автомобили. После успешной авторизации
пользователь попадает на свою страницу - страницу менеджера или
страницу клиента. Менеджер может редактировать список доступных
для проката автомобилей: добавлять, изменять, удалять информацию
(название, цвет, серийный номер, информация о состоянии, например,
новый или после ремонта, стоимость одного дня аренды),
просматривать список арендованных на данный момент автомобилей с
информацией о сроках аренды. Клиент видит список арендованных им
на данный момент автомобилей с информацией о сроке аренды и ее
общей цене, и список доступных автомобилей, может удалить
автомобиль из первого списка и выбрать автомобиль из второго. В
последнем случае он видит форму с информацией о выбранном
автомобиле и должен задать срок (количество дней), на который хочет
арендовать этот автомобиль. Клиент должен видеть общую сумму
аренды и ему доступна кнопка "Арендовать". В данном случае
предполагаем, что все клиенты джентльмены, поэтому нажатая кнопка
означает, что оплата проведена. Используйте архитектуру MVC.
Представления - фейслеты (все строятся по единому шаблону из 
задания 3), контроллер - объекты-подложки, модель - управляемые
компоненты и уровень данных.

## Задание 5
Реализуйте приложение из задания 4. При разработке и
для тестирования логики самого приложения можно использовать для
хранения данных простые Java-объекты (POJO) и коллекции таких
объектов. Но, затем, нужно обеспечить долговременное хранение
информации в базе данных, используя технологию JPA.
